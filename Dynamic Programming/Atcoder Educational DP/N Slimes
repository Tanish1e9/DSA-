// simple burst balloons ki tarah hi h like imagine kr lena ki (i to k-1) and (k to j) ko last me combine kia jayega

#include<bits/stdc++.h>
using namespace std;
#define int long long
const int mod = 1e9+7;
int helper(int i, int j, auto &arr, auto &dp){
	if(i==j) return 0;
	if(dp[i][j]!=-1) return dp[i][j];
	int ans = 1e18;
	int sum = arr[i];
	for(int k=i+1;k<=j;k++) {
		sum += arr[k];
		ans = min(ans, helper(i,k-1,arr,dp) + helper(k,j,arr,dp));
	}
	// sabke lie last merging ka cost to same hi hoga islie end me add kr die
	// no need to create prefix sums
	return dp[i][j] = ans + sum;
}
signed main() {
	ios::sync_with_stdio(false);
	cin.tie(nullptr);
	cout.tie(nullptr);
	
	int n;
	cin >> n;
	vector<int> arr(n);
	for(int i=0;i<n;i++) cin >> arr[i];
	vector<vector<int>> dp(n, vector<int>(n,-1));
	cout << helper(0,n-1,arr,dp) << endl;
	return 0;
}
