CF link: https://codeforces.com/problemset/problem/983/B

// Isme to bhai bas 5 length ka array pakad ke uske har subsegment ka likhne ka koshish kro ans
// turant dp ka pattern notice ho gya and I wrote the dp
// fir i to j me maximum query krna tha to wo bhi matrix ke madad se hi ho skta h
// maxi[i][j] denotes maximum among the subarrays of arr[i..j] to fir
// maxi[i][j] = max({maxi[i+1][j], maxi[i][j-1], dp[i][j]}) likh skte h (draw krke dekhna)
// and the question is devastated


#include<bits/stdc++.h>
using namespace std;
#define int long long
int dp[5000][5000], maxi[5000][5000];
signed main() {
	ios::sync_with_stdio(false);
	cin.tie(0);

	int n;
	cin >> n;
	vector<int> arr(n);
	for(int i=0;i<n;i++) cin >> arr[i];

	for(int i=n-1;i>=0;i--) {
		dp[i][i] = arr[i];
		for(int j=i+1;j<n;j++) {
			if(i+1<n) dp[i][j] ^= dp[i+1][j];
			if(j>0) dp[i][j] ^= dp[i][j-1];
		}
	}

	for(int i=n-1;i>=0;i--) {
		maxi[i][i] = dp[i][i];
		for(int j=i+1;j<n;j++) {
			if(i+1<n) maxi[i][j] = max(maxi[i][j], maxi[i+1][j]);
			if(j>0) maxi[i][j] = max(maxi[i][j], maxi[i][j-1]);
			maxi[i][j] = max(maxi[i][j], dp[i][j]);
		}	
	}
	
	int q;
	cin >> q;

	while(q--) {
		int a, b;
		cin >> a >> b;
		cout << maxi[a-1][b-1] << "\n";
	}

	return 0;
}
