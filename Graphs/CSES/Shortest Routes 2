CSES link: https://cses.fi/problemset/task/1672/

#include<bits/stdc++.h>
using namespace std;
#define int long long
void floyd(int n, int m, auto &distances) {
	for(int k=1;k<=n;k++) {
		for(int i=1;i<=n;i++) {
			for(int j=1;j<=n;j++) {
				distances[i][j] = min(distances[i][j], distances[i][k] + distances[k][j]);
			}
		}
	}
	// yaha par you can check ki koi bhi distances[i][i] negative hua h kya that detects negative cycles
}
signed main() {
	ios::sync_with_stdio(false);
	cin.tie(nullptr);
	cout.tie(nullptr);
	int n, m, q;
	cin >> n >> m >> q;
	vector<vector<int>>distances(n+1, vector<int>(n+1,1e18));
	for(int j=0;j<m;j++) {
		int a,b,c;
		cin >> a >> b >> c;
		distances[a][b] = min(c, distances[a][b]);
		distances[b][a] = min(c, distances[b][a]);
	}
	for(int i=1;i<=n;i++) distances[i][i] = 0;
	floyd(n,m,distances);
	while(q--) {
		int a, b;
		cin >> a >> b;
		cout << ((distances[a][b]!=1e18) ? distances[a][b] : -1) << "\n";
	}
	return 0;
}
