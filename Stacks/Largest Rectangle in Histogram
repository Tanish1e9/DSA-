LC link: https://leetcode.com/problems/largest-rectangle-in-histogram/

// Dekh brute force me to simple hai
// point ye hai ki har bar se jitna ho sake left jaayenge, height minimise krte hue to area saara cover ho jayega

    int largestRectangleArea(vector<int>& arr) {
        int n = arr.size();
        int ans = 0;
        // for(int i=0;i<n;i++) {
        //     int ht = 1e9;
        //     for(int j=i;j>=0;j--) {
        //         ht = min(ht, arr[j]);
        //         ans = max(ans, ht * (i-j+1));
        //     } 
        // }

// Optimal ke lie observe krna ki agar ek lamba bar ke baad chota bar aa gya to kya uss lambe baar ka kaam h
// to bas uss lambe baar ke lie rightmost index mil hi chuka h
// left index nikalwana h
// to increasing order me agar store hoga stack me to aa jayega na


        stack<int> st;
        for(int i=0;i<=n;i++) {
            while(!st.empty() && (i==n || arr[st.top()] >= arr[i])) {
                int curr = st.top(); 
                st.pop();
                
                if(!st.empty()) ans = max(ans, arr[curr] * (i-st.top()-1));
                else ans = max(ans, arr[curr] * i);
            }
            if(i<n) st.push(i);
        }

        return ans;
    }
